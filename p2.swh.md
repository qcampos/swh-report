# Software Heritage

Ce chapitre présente Software Heritage d'un point de vue plus
technique en indiquant l'infrastructure mise en place, et
l'architecture logicielle du projet.

## Data Model

####

Les données manipulées par Software Heritage, sont adressables par
contenu, c'est à dire qu'on peut retrouver leur identifiant (leur
adresse) à partir de leur contenu. Dans le cas de Software Heritage,
nos objets sont identifiés par leur sha1.

## Infrastructure

### Serveurs Inria

### Ouverture au cloud

## Architecture logicielle

> T385

####

Les trois objectifs de Software Heritage conduisent beaucoup le
développement du projet. Cette influence se voit dans les catégories
de modules du projet.

### Loaders (collect)

####

Lorsqu'un code source à été collecté, il peut s'agir d'un projet
encore en développement, qui est donc en train d'évoluer. Le but des
loaders est de parcourir à intervalle régulier des sources pour
vérifier si le code source qu'elles contiennent à été mis à jour.

####

Par exemple, les dépôts git sur GitHub sont vérifiés à un intervalle
qui dépend de leur fréquence de mise à jour : à chaque passage, si le
dépot n'a pas été mis à jour, la durée avant la prochaine vérification
est multipliée par deux. A l'inverse, s'il a été mis à jour, la durée
est divisée par deux.

####

Le rôle des loaders est donc de vérifier ces sources, et lorsqu'elles
ont subi des modifications, de télécharger les nouvelles informations
et de les normaliser afin de les mettre dans la base de donnée et le
système de fichiers de Software Heritage.

### Storage et Base de Données (preserve)

### Web view (share)

####

La *web-view* est l'ensemble des éléments qui permettent d'accéder à
Software Heritage, et donc au contenu sauvegardé, depuis Internet. Le
Site Web de Software Heritage[^site-web], ainsi que l'API
publique[^api-publique-not-yet] constituent cette vue.

[^site-web]: [www.softwareheritage.org](www.softwareheritage.org)

[^api-publique-not-yet]:
	A la fin de mon stage (Septembre 2016), l'API n'est pas publique
    car l'infrastructure n'est pas suffisante pour répondre à une
    grande quantité de requêtes.

## Travail effectué

####

Le travail effectué lors de mon stage se limite au stockage des
données et à leur préparation pour la distribution. Les chapitres
suivants contiennent des informations plus détaillées sur ces deux
aspects et sur les choix de développement.
